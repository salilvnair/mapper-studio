# mapper-studio

Starter Mapping Studio using:

- Backend: Spring Boot + ConvEngine
- Frontend: React + Vite + React Flow
- DB: PostgreSQL (`ce_*` + `mps_*` tables)

## What this starter demonstrates

1. Conversational, stateful mapping intake using ConvEngine (`MAPPING_STUDIO` intent).
2. AI-driven mapping suggestion loop via ConvEngine flow.
3. React Flow visualization from source fields -> target fields.
4. Missing target-field highlight and editable metadata table.
5. MPS-specific persistence tables for project/version/mapping artifacts.

## Structure

- `backend/` Spring Boot app with ConvEngine integration.
- `frontend/` React Vite app for studio UI.

## Quick start

1. Run PostgreSQL and create database.
2. Apply ConvEngine DDL from ConvEngine repo and then:
   - `backend/src/main/resources/sql/mps-ddl.sql`
   - `backend/src/main/resources/sql/ce-seed-mapping-studio.sql`
3. Configure `backend/src/main/resources/application.yml`.
4. Start backend:
   - `./mvnw spring-boot:run` (or `mvn spring-boot:run`)
5. Start frontend:
   - `npm install`
   - `npm run dev`

## Notes

- Mapping suggestions are generated by `LlmClient.generateJsonStrict(...)` using `sourceSpec` + `targetSchema`.
- The backend includes a minimal lexical fallback only when the LLM call fails or returns invalid JSON.
- Configure provider/model in `backend/src/main/resources/application.yml` (`convengine.llm.*`).
